<!DOCTYPE html>
<script src="jquery-3.6.3.min.js"></script>
<script src="englishdic.js"></script>
<meta name="viewport" content="width=device-width, user-scalable=0">
<meta charset="UTF-8">

<html>
<body>

<input type="text" id="searchanagrams" placeholder="ENTER WORD" style="width: 100%; height: 32px;left:0;right:0;margin: 0 auto;border:0;outline:none;text-align:center;">
<button type="button" onclick="alexsgetanagrams()" id="searchnow" style="width: 100%; height: 32px;left:0;right:0;margin: 0 auto;border:0;outline:none;">Search</button>
<div id="results" style="font-family:font;text-align:center;border-radius: 5px; background: #111; color:#eee;width:100%;height:600px;overflow-y:scroll;overflow-x:hidden;font-size:24px;">

</div>




</body>
</html>

<script>
const stringPermutations = str => {
  if (str.length <= 2) return str.length === 2 ? [str, str[1] + str[0]] : [str];
  return str
    .split('')
    .reduce(
      (acc, letter, i) =>
        acc.concat(stringPermutations(str.slice(0, i) + str.slice(i + 1)).map(val => letter + val)),
      []
    );
};
function permute(nums) {
  let result = [];
if (nums.length === 0) return [];
  if (nums.length === 1) return [nums];
for (let i = 0; i < nums.length; i++) {
    const currentNum = nums[i];
    const remainingNums = nums.slice(0, i).concat(nums.slice(i + 1));
    const remainingNumsPermuted = permute(remainingNums);
  for (let j = 0; j < remainingNumsPermuted.length; j++) {
    }
  }
  return result;
}

var matrix = [];

function permutator(inputArr) {
  var results = [];

  function permute(arr, memo) {
    var cur, memo = memo || [];

    for (var i = 0; i < arr.length; i++) {
      cur = arr.splice(i, 1);
      if (arr.length === 0) {
        results.push(memo.concat(cur));
      }
      permute(arr.slice(), memo.concat(cur));
      arr.splice(i, 0, cur[0]);
    }

    return results;
  }

  return permute(inputArr);
}

function permutex(permutation) {
  var length = permutation.length,
      result = [permutation.slice()],
      c = new Array(length).fill(0),
      i = 1, k, p;

  while (i < length) {
    if (c[i] < i) {
      k = i % 2 && c[i];
      p = permutation[i];
      permutation[i] = permutation[k];
      permutation[k] = p;
      ++c[i];
      i = 1;
      result.push(permutation.slice());
    } else {
      c[i] = 0;
      ++i;
    }
  }
  return result
  }
  
  const getPermutations = (items) =>
  items.reduce((permutations, item) => {
    const newPermutations = permutations.map((permutation) =>
      permutation.concat(item)
    )
    permutations.push([item], ...newPermutations)
    return permutations
  }, [])
  
  
  
 var getallwords = ""; 
  
  
  
  
  
  
function scramble(world, seed) {
    var arr = new Array(256);
    var i = 0;
    
    for (i = 0; i < 256; i++) {
      arr[i] = 0;
    }
    
    for (i = 0; i < world.length; i++) {
      arr[world.charCodeAt(i)] += 1;
    }
    
    for (i = 0; i < seed.length; i++) {
      arr[seed.charCodeAt(i)] -= 1;
      if (arr[seed.charCodeAt(i)] < 0) {
        return false;
      }
    }
    
    return true;
}  
  
  
const deviationMatching = (first, second, num) => {
   let count = 0;
   for(let i = 0; i < first.length; i++){
      if(!second.includes(first[i])){
         count++;
      };
      if(count > num){
         return false;
      };
   };
   return true;
};  





function alexsgetanagrams() {
$("#results").html("Please wait...");
setTimeout(runagain,5000)

function runagain() {
var gotcha = $("#searchanagrams").val().replace(" ", "");
getallwords = gotcha;
var barnone = "";
matrix = [];



if (getallwords.length < 16)
{

/*
const permutator = (inputArr) => {
  let result = [];

  const permute = (arr, m = []) => {
    if (arr.length === 0) {
      result.push(m)
    } else {
      for (let i = 0; i < arr.length; i++) {
        let curr = arr.slice();
        let next = curr.splice(i, 1);
        permute(curr.slice(), m.concat(next))
     }
   }
 }

 permute(inputArr)

 return result;
} */
function removeDuplicates(arr) { 
    return arr.filter((item, 
        index) => arr.indexOf(item) === index); 
} 
var myword = getallwords.toLowerCase();
var mywordlength = myword.length;
var myarray = myword.split("");
var getanagrams = getPermutations(myarray);
var getanagramstring = getanagrams.toString().replaceAll(",","");

var chunks = [];


for (var i = 0, charsLength = getanagramstring.length; i < charsLength; i += mywordlength) {
    chunks.push(getanagramstring.substring(i, i + mywordlength));
}

//var finalstring = chunks.toString().replaceAll(",","<br>");



// Define the input string

var input = "";
const identifiedWords = [];

for (xxx = 0; xxx < chunks.length; xxx++)
{

input = chunks[xxx].toString().toLowerCase().trim();
// Create an array to store the identified words



// Loop through each possible substring in the input string

for (let i = 0; i < input.length; i++) {

for (let j = i + 1; j <= input.length; j++) {

const substring = input.slice(i, j);

// Check if the substring is a valid English word

if (dictionaryx.includes(substring))

{
var numnumb = myword.length;
var gecko = scramble(myword, substring)
if (gecko == true)
 {

identifiedWords.push(substring);

}}

}

}
}

var hellagood = removeDuplicates(identifiedWords);

//var cum = hellagood.toString().replaceAll(",", " ");
//var lastcum = cum.split(" ");
//var hellyea = lastcum.filter((ele) => ele.length > 2).join(" ");
hellagood.sort(function(a, b){return b.length - a.length});

for (j = 0; j < hellagood.length; j++)
{
	for (z = 0; z < hellagood.length; z++)	
	{
	     var checkzstring = hellagood[j].toString() + hellagood[z].toString();
	     var checkz = scramble(myword, checkzstring);
	     if (checkz == true)
	     {
	     matrix.push(hellagood[j]);
	     matrix.push(";");
	     matrix.push(hellagood[z]);
	     matrix.push(" ");
	     }
	
	}


}
var butler = matrix.toString();
var butlerwork = butler.replaceAll(",;,", ";").replaceAll(", ,", " ");
var butlerarray = butlerwork.split(" ");
butlerarray.sort(function(a, b){return b.length - a.length});
var stringagain = butlerarray.toString().replaceAll(",", "<br>").replaceAll(";", " ");
//$("#result").html(myfinalwords);

//
//
//
var addlinebreak = "<br>" + stringagain;
$("#results").html(addlinebreak);
}
if (getallwords.length > 15)
$("#results").html("Sorry, the word is over 15 characters :(");
}
}

    function sort(s, n)
    {
        for (let i = 1 ; i < n; i++)
        {
            let temp = s[i];
  
            // Insert s[j] at its correct position
            let j = i - 1;
            while (j >= 0 && temp.length < s[j].length)
            {
                s[j + 1] = s[j];
                j--;
            }
            s[j + 1] = temp;
        }
    }
  
    // Function to print the sorted array of string
    function printArraystring(str, n)
    {
        for (let i = 0; i < n; i++)
            document.write(str[i]+" ");
    }
</script>
<style>
html {
width:100%;
height: 100%;
}
body {
width: 100%;
overflow: hidden;
}
  @font-face {
  font-family: 'font';
  src: url('font.eot'); /* IE9 Compat Modes */
  src: url('font.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
  url('font.woff2') format('woff2'), /* Super Modern Browsers */
  url('font.woff') format('woff'), /* Pretty Modern Browsers */
  url('font.ttf')  format('truetype'); /* Safari, Android, iOS */
  font-size: 100%;
  }
</style>
<!--


selected:w.is(":selected")
Replace to
selected:w.attr("selected")


-->

